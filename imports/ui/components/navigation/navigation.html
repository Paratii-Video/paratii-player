<template name="navigation">
  <nav id="nav" class="main-nav {{ navState }} {{ isMaximized }}">
    <ul class="main-nav-list">
      <li class="main-nav-item {{isActivePath '/profile'}}">
        <a id="nav-profile" class="main-nav-link" href="/profile">
          <div class="main-nav-icon avatar">
            {{#if currentUser}}
              {{#if currentUser.profile.image }}
                <img class="main-nav-svg" src="{{ currentUser.profile.image }}">
              {{else}}
                <svg class="main-nav-svg">
                  <use class="main-nav-svg-use" xlink:href="#icon-avatar"></use>
                </svg>
              {{/if}}
            {{else}}
              <svg class="main-nav-svg">
                <use class="main-nav-svg-use" xlink:href="#icon-avatar"></use>
              </svg>
            {{/if}}
          </div>
          {{#if currentUser}}
            <span class="main-nav-text">{{ currentUser.profile.name }}</span>
          {{else}}
            <span class="main-nav-text">Sign up or login</span>
          {{/if}}
        </a>
      </li>
      <li id="playlist" class="main-nav-item {{isActivePath '/playlists'}} {{#if locked}}locked{{/if}}">
        <a class="main-nav-link" href="/playlists">
          <div class="main-nav-icon">
            <svg class="main-nav-svg">
              <use class="main-nav-svg-use" xlink:href="#icon-playlist"></use>
            </svg>
          </div>
          <span class="main-nav-text">Playlists</span>
        </a>
      </li>
      <li id="search" class="main-nav-item {{isActivePath '/search'}} locked">
        <a class="main-nav-link locked" href="/search">
          <div class="main-nav-icon">
            <svg class="main-nav-svg">
              <use class="main-nav-svg-use" xlink:href="#icon-search"></use>
            </svg>
          </div>
          <span class="main-nav-text">Search</span>
        </a>
      </li>
      <!-- hidden until it will be implemented
      <li id="myvideos" class="main-nav-item {{isActivePath '/myvideos'}} locked">
        <a class="main-nav-link locked" href="/myvideos">
          <div class="main-nav-icon">
            <svg class="main-nav-svg">
              <use class="main-nav-svg-use" xlink:href="#icon-myvideos"></use>
            </svg>
          </div>
          <span class="main-nav-text">My videos</span>
          <svg class="main-nav-svg-locked">
            <use class="main-nav-svg-use" xlink:href="#icon-locked"></use>
          </svg>
        </a>
      </li>
    -->
      {{#if userIsLoggedIn }}
      <li id="logout" class="main-nav-item">
        <a class="main-nav-link" href="/">
          <div class="main-nav-icon">
            <svg class="main-nav-svg">
              <use class="main-nav-svg-use" xlink:href="#icon-logout"></use>
            </svg>
          </div>
          <span class="main-nav-text">Logout</span>
        </a>
      </li>
      {{/if}}
    </ul>
  </nav>
</template>
